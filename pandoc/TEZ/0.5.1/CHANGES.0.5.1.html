<!---
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
-->
<h1 id="apache-tez-changelog">Apache Tez Changelog</h1>
<h2 id="release-0.5.1---2014-10-02">Release 0.5.1 - 2014-10-02</h2>
<h3 id="incompatible-changes">INCOMPATIBLE CHANGES:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1578">TEZ-1578</a></td>
<td align="left">Remove TeraSort from Tez codebase</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Hitesh Shah</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1499">TEZ-1499</a></td>
<td align="left">Add SortMergeJoinExample to tez-examples</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Jeff Zhang</td>
</tr>
</tbody>
</table>
<h3 id="important-issues">IMPORTANT ISSUES:</h3>
<table>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<h3 id="new-features">NEW FEATURES:</h3>
<table>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<h3 id="improvements">IMPROVEMENTS:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1539">TEZ-1539</a></td>
<td align="left">Change InputInitializerEvent semantics to SEND_ONCE_ON_SUCCESS</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Siddharth Seth</td>
<td align="left">Siddharth Seth</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1534">TEZ-1534</a></td>
<td align="left">Make client side configs available to AM and tasks</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Siddharth Seth</td>
<td align="left">Siddharth Seth</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1533">TEZ-1533</a></td>
<td align="left">Request Events more often if a complete set of events is received by a task</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Siddharth Seth</td>
<td align="left">Siddharth Seth</td>
</tr>
</tbody>
</table>
<h3 id="bug-fixes">BUG FIXES:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1624">TEZ-1624</a></td>
<td align="left">Flaky tests in TestContainerReuse due to race condition in DelayedContainerManager thread</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1613">TEZ-1613</a></td>
<td align="left">Decrease running time for TestAMRecovery</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1612">TEZ-1612</a></td>
<td align="left">ShuffleVertexManager's EdgeManager should not hard code source num tasks</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Daniel Dai</td>
<td align="left">Bikas Saha</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1611">TEZ-1611</a></td>
<td align="left">Change DataSource/Sink to be able to supply URIs for credentials</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Bikas Saha</td>
<td align="left">Bikas Saha</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1609">TEZ-1609</a></td>
<td align="left">Add hostname to logIdentifiers of fetchers for easy debugging</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1599">TEZ-1599</a></td>
<td align="left">TezClient.preWarm() is not enabled</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Bikas Saha</td>
<td align="left">Bikas Saha</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1598">TEZ-1598</a></td>
<td align="left">DAGClientTimelineImpl uses ReflectiveOperationException (which has JDK 1.7 dependency)</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1597">TEZ-1597</a></td>
<td align="left">ImmediateStartVertexManager should handle corner case of vertex having zero tasks</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1592">TEZ-1592</a></td>
<td align="left">Vertex should wait for all initializers to finish before moving to INITED state</td>
<td align="left">Blocker</td>
<td align="left">.</td>
<td align="left">Siddharth Seth</td>
<td align="left">Siddharth Seth</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1587">TEZ-1587</a></td>
<td align="left">Some tez-examples fail in local mode</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1585">TEZ-1585</a></td>
<td align="left">Memory leak in tez session mode</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1581">TEZ-1581</a></td>
<td align="left">GroupByOrderByMRRTest no longer functional</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Hitesh Shah</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1580">TEZ-1580</a></td>
<td align="left">Change TestOrderedWordCount to optionally use MR configs</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Hitesh Shah</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1575">TEZ-1575</a></td>
<td align="left">MRRSleepJob does not pick MR settings for container size and java opts</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Hitesh Shah</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1574">TEZ-1574</a></td>
<td align="left">Support additional formats for the tez deployed archive</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Siddharth Seth</td>
<td align="left">Siddharth Seth</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1571">TEZ-1571</a></td>
<td align="left">Add create method for DataSinkDescriptor</td>
<td align="left">Blocker</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1563">TEZ-1563</a></td>
<td align="left">TezClient.submitDAGSession alters DAG local resources regardless of DAG submission</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Josh Elser</td>
<td align="left">Bikas Saha</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1549">TEZ-1549</a></td>
<td align="left">[Umbrella] Unit tests fail on Windows</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1548">TEZ-1548</a></td>
<td align="left">ShuffleVertexManagerConfigBuilder.setSlowStartMinSrcCompletionFraction setting wrong value</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1544">TEZ-1544</a></td>
<td align="left">Link to release artifacts for 0.5.0 does not point to a specific link for 0.5.0</td>
<td align="left">Trivial</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Hitesh Shah</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1543">TEZ-1543</a></td>
<td align="left">Shuffle Errors on heavy load (causing task retries)</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1536">TEZ-1536</a></td>
<td align="left">Fix spelling typo &quot;configurartion&quot; in TezClientUtils</td>
<td align="left">Trivial</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Hitesh Shah</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1527">TEZ-1527</a></td>
<td align="left">Improvement on waitForCompletion API</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1524">TEZ-1524</a></td>
<td align="left">getDAGStatus seems to fork out the entire JVM on non-secure clusters</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Gopal V</td>
<td align="left">Gopal V</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1519">TEZ-1519</a></td>
<td align="left">TezTaskRunner should not initialize TezConfiguration in TezChild</td>
<td align="left">Blocker</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1515">TEZ-1515</a></td>
<td align="left">DAGAppMaster : Thread contentions due to org.apache.tez.common.counters.ResourceBundles</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1495">TEZ-1495</a></td>
<td align="left">ATS integration for TezClient</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Prakash Ramachandran</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1494">TEZ-1494</a></td>
<td align="left">DAG hangs waiting for ShuffleManager.getNextInput()</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1488">TEZ-1488</a></td>
<td align="left">Rename HashComparator to ProxyComparator and implement in TezBytesComparator</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Gopal V</td>
<td align="left">Gopal V</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1447">TEZ-1447</a></td>
<td align="left">Provide a mechanism for InputInitializers to know about interesting Vertex state changes</td>
<td align="left">Blocker</td>
<td align="left">.</td>
<td align="left">Gunther Hagleitner</td>
<td align="left">Siddharth Seth</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1433">TEZ-1433</a></td>
<td align="left">Invalid credentials can be used when a DAG is submitted to a session which has timed out</td>
<td align="left">Blocker</td>
<td align="left">.</td>
<td align="left">Siddharth Seth</td>
<td align="left">Bikas Saha</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1362">TEZ-1362</a></td>
<td align="left">Remove DAG_COMPLETED in DAGEventType</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1310">TEZ-1310</a></td>
<td align="left">Update website documentation framework</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Jonathan Eagles</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-978">TEZ-978</a></td>
<td align="left">Enhance auto parallelism tuning for queries having empty outputs or data skewness</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Rajesh Balamohan</td>
</tr>
</tbody>
</table>
<h3 id="tests">TESTS:</h3>
<table>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1569">TEZ-1569</a></td>
<td align="left">Add tests for preemption</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Bikas Saha</td>
<td align="left">Bikas Saha</td>
</tr>
</tbody>
</table>
<h3 id="sub-tasks">SUB-TASKS:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1618">TEZ-1618</a></td>
<td align="left">LocalTaskSchedulerService.getTotalResources() and getAvailableResources() can get negative if JVM memory is larger than 2GB</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Chen He</td>
<td align="left">Chen He</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1568">TEZ-1568</a></td>
<td align="left">Add system test for propagation of diagnostics for errors</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1559">TEZ-1559</a></td>
<td align="left">Add system tests for AM recovery</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeff Zhang</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1555">TEZ-1555</a></td>
<td align="left">TestTezClientUtils.validateSetTezJarLocalResourcesDefinedButEmpty failing on Windows</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1554">TEZ-1554</a></td>
<td align="left">Failing tests in TestMRHelpers related to environment on Windows</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1553">TEZ-1553</a></td>
<td align="left">Multiple failures in testing path-related tests in TestTezCommonUtils for Windows</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1550">TEZ-1550</a></td>
<td align="left">TestEnvironmentUpdateUtils.testMultipleUpdateEnvironment fails on Windows</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Prakash Ramachandran</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1345">TEZ-1345</a></td>
<td align="left">Add checks to guarantee all init events are written to recovery to consider vertex initialized</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-1157">TEZ-1157</a></td>
<td align="left">Optimize broadcast :- Tasks pertaining to same job in same machine should not download multiple copies of broadcast data</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Rajesh Balamohan</td>
<td align="left">Gopal V</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-853">TEZ-853</a></td>
<td align="left">Support counters recovery</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Jeff Zhang</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/TEZ-850">TEZ-850</a></td>
<td align="left">Recovery unit tests</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Hitesh Shah</td>
<td align="left">Jeff Zhang</td>
</tr>
</tbody>
</table>
<h3 id="other">OTHER:</h3>
<table>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
